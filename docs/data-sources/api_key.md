---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "aquasec_aqua_api_keys Data Source - terraform-provider-aquasec"
subcategory: ""
description: |-
  The data source `aquasec_aqua_api_keys` provides access to a single API key or a list of API keys from the Aqua platform. It allows querying by API key ID or via pagination with limit and offset.
  
---

# aquasec_aqua_api_keys (Data Source)
  The `aquasec_aqua_api_keys` data source allows you to fetch API key details from Aqua. You can fetch:

  - A **single API key** by specifying its `id`
  - A **list of API keys** using `limit` and optional `offset`

## Example Usage

### Listing of single API Key

```terraform
data "aquasec_aqua_api_keys" "single" {
    id = aquasec_aqua_api_key.terraform_api_key.id
}

output "api_key_single_id" {
  value = data.aquasec_aqua_api_keys.single.apikeys[0].id
}
output "group_id" {
  value = data.aquasec_aqua_api_keys.single.apikeys[0].group_id
}
output "expiration" {
  value = data.aquasec_aqua_api_keys.single.apikeys[0].expiration
}
output "permission_ids" {
  value = data.aquasec_aqua_api_keys.single.apikeys[0].permission_ids
}     
output "roles" {
  value = data.aquasec_aqua_api_keys.single.apikeys[0].roles
}
output "api_key_secret" {
  value = aquasec_aqua_api_key.terraform_api_key.secret
  sensitive = true
}
```

### Listing of all API Key

```terraform
data "aquasec_aqua_api_keys" "list" {
    limit = 10
    offset = 0
}

output "api_key_list" {
  value = data.aquasec_aqua_api_keys.list.apikeys
  sensitive = true
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `id` (String) – The ID of the API key to retrieve. Cannot be used with limit.
- `limit` (Number) – The number of API keys to return. Cannot be used with id.
- `offset` (Number) – (Optional) The offset for paginated API key results. Used with limit.

### Read-Only

- `apikeys` (List of Object) – A list of API key objects (see [below for nested schema](#nestedatt--apikeys)).
- `id` (String) – The data source ID (automatically generated from time or the queried key ID).

<a id="nestedatt--apikeys"></a>

### Nested Schema for `apikeys`
Each object inside apikeys includes the following read-only fields:

Read-Only:
- `id` (Number) The apikey ID
- `access_key` (String) The API key value.
- `description` (String) The API key description.
- `created` (date) The date of the API key creation.
- `open_access` (Boolean)  Whether the apikey is enabled for non-connected account scanning (consultant plan only).
- `scans_per_month` (Number) The number of scans that can be performed each month. 
- `account_id` (Number) The account ID that is associated with the API key.
- `enabled` (Boolean) Whether the apikey is enabled or not.
- `roles` (Array) List of roles for the API key
- `group_id` (Number) The group ID that is associated with the API key.
- `expiration` (Number) The expiry date for the API Key which should not exceed more than 1 year(365 days)
- `permission_ids` (Array) List of permission IDs for the API key, if empty the API key has global admin permissions
- `ip_addresses` (Array) List of IP addresses the API key can be used from.

## Notes
- Either `id` or `limit` must be provided – not both.
- If `id` is provided, only one API key is returned.
- When using `limit`, `offset` is optional and useful for pagination.
